<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>

    <style>
        circle.dimple-series-1 {
            fill: red;
        }

        h2 {
            text-align: center;
        }
    </style>
    <div id="chartContainer">
    <script type="text/javascript">
        var svg = dimple.newSvg("#chartContainer",590,400);
        function draw(data) {
            /*
             D3.js setup code
             */

            "use strict";
            debugger;
            var margin = 75,
                width = 1400 - margin,
                height = 600 - margin;

            d3.select("body")
                .append("h2")
                .text("Baseball HR Average VS Handedness");

            var svg = d3.select("body")
                .append("svg")
                .attr("width", width + margin)
                .attr("height", height + margin)
                .append('g')
                .attr('class','chart');

            /*
             Dimple.js Chart construction code
             */

            var myChart = new dimple.chart(svg, data);


           // var x = myChart.addMeasureAxis("x", );
            var x = myChart.addCategoryAxis("x", 'handedness');
            x.aggregate =dimple.aggregateMethod.avg;
            var y =myChart.addMeasureAxis('y',"HR");
            y.aggregate = dimple.aggregateMethod.avg;
            var y2 = myChart.addMeasureAxis('y','avg');
            y2.aggregate = dimple.aggregateMethod.avg;
            myChart.addSeries("Batting Average",dimple.plot.scatter,[x,y2]);

            x.addOrderRule('HR',true);

            myChart.addSeries('Player', dimple.plot.bar);

            myChart.draw();
        };

    </script>
    </div>
</head>
<body>
<script type = "text/javascript">
d3.csv("baseball_data.csv",draw);
</script>
</body>
</html>
